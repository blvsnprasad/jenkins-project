pipeline {
    agent none
    parameters {
        string(
            name: "project",
            defaultValue: "paramtersInJenkins",
            description: "project name"
        )
        booleanParam(
            name: isProd,
            defaultValue: false,
            description: "boolean value"
        )
        choice(
            name: workEnv,
            choices: ["dev","prod","preProd","testing"],
            description: workEnv
        )
    }
    environment {
        buildNumber="v1"
        buildPrefixName="jenkins"
    }
    stages {
        stage("show params") {
            agent none
            steps {
                script { 
                    // env.envDotVariable = "envDotValue"
                    echo "show - project - ${params.project}"
                    echo "show - isProd - ${params.isProd}"
                    echo "show - workEnv - ${params.workEnv}"
                    echo "show - buildNumber - ${env.buildNumber}"
                    echo "show - buildPrefixName - ${env.buildPrefixName}"
                    // echo "show - envDotVariable - ${env.envDotVariable}"
                }
            }    
        }
        stage("stage 2 param") {
            steps {
                script {
                    def buildDate = new Date().format('yyyyMMdd')
                    echo "script - project - ${params.project}"
                    echo "script - isProd - ${params.isProd}"
                    echo "script - workEnv - ${params.workEnv}"
                    echo "script - buildNumber - ${env.buildNumber}"
                    echo "script - buildPrefixName - ${env.buildPrefixName}"
                    // echo "script - envDotVariable - ${env.envDotVariable}"
                    echo "script - buildDate - ${buildDate}"
                }
            }
        }
    }
    
    post {
        always {
            script {
                echo "post - project - ${params.project}"
                echo "post - isProd - ${params.isProd}"
                echo "post - workEnv - ${params.workEnv}"
                echo "post - buildNumber - ${env.buildNumber}"
                echo "post - buildPrefixName - ${env.buildPrefixName}"
                // echo "post - envDotVariable - ${env.envDotVariable}"
            }
        }
    }   
}
